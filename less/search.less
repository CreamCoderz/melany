//
// Search
// --------------------------------------------------

// Search toggle
//
// Custom button for toggling the `.search-collapse`, powered by the collapse
// JavaScript plugin.

.search-toggle {
  position: relative;
  float: right;
  margin-right: @navbar-padding-horizontal;
  padding: 5px 10px;
  .navbar-vertical-align(34px);
  background-color: transparent;
  border: 1px solid transparent;
  border-radius: @border-radius-base;

  // Icon
  .glyphicon-search {
    width: 22px;
  }
  @media (min-width: @grid-float-breakpoint) {
    display: none;
  }
}

// Fix layout on desktop and large desktop
@media (min-width:@grid-float-breakpoint) {
	.navbar-collapse:after {
		clear:none;
	}
}

// Navbar form
//
// Extension of the `.form-inline` with some extra flavor for optimum display in
// our navbars.
.search-collapse {
	max-width:100%;

	.search-form {
		max-width:100%;
		margin:0;
		padding: 10px @navbar-padding-horizontal;
		border-top:1px solid transparent;
		@shadow: inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.1);
		.box-shadow(@shadow);

		// Mixin behaviour for optimum display
		.form-inline();

		@media (min-width:@grid-float-breakpoint) {
			margin-top: ((@navbar-height - @input-height-base) / 2);
		}

		// Undo 100% width for pull classes
		@media (min-width:@grid-float-breakpoint) {
			width:auto;
			border:0;
			margin-left:0;
			margin-right:0;
			padding-top:0;
			padding-bottom:0;
			.box-shadow(none);
			.navbar-vertical-align(@input-height-base);
		}
	}
	// Uncollapse the search
	@media (min-width: @grid-float-breakpoint) {
		display:block;
		float:right;
		margin:0;
	}
}


// Alternate navbars
// --------------------------------------------------

// Default navbar
.navbar-default {
	.search-toggle {
		color:@navbar-default-toggle-icon-bar-bg;
		border-color: @navbar-default-toggle-border-color;
		&:hover,
		&:focus {
			background-color: @navbar-default-toggle-hover-bg;
		}
	}
	.search-collapse,
	.search-form {
		border-color:darken(@navbar-default-bg, 7%);
	}
}

// Inverse navbar
.navbar-inverse {
	.search-toggle {
		color:@navbar-inverse-toggle-icon-bar-bg;
		border-color: @navbar-inverse-toggle-border-color;
		&:hover,
		&:focus {
			background-color:@navbar-inverse-toggle-hover-bg;
		}
	}
	.search-collapse,
	.search-form {
		border-color:@navbar-inverse-search-border;
	}
	.search-form .form-control {
		background-color:@navbar-inverse-search-bg;
		.placeholder(@navbar-inverse-search-placeholder-color);
		&:focus {
			background-color:@navbar-inverse-search-bg-focus;
		}
	}
}

// Green navbar
.navbar-green {
	.search-toggle {
		color:@navbar-green-toggle-icon-bar-bg;
		border-color: @navbar-green-toggle-border-color;
		&:hover,
		&:focus {
			background-color:@navbar-green-toggle-hover-bg;
		}
	}
	.search-collapse,
	.search-form {
		border-color:@navbar-green-search-border;
	}
	.search-form .form-control {
		background-color:@navbar-green-search-bg;
		.placeholder(@navbar-green-search-placeholder-color);
		&:focus {
			background-color:@navbar-inverse-search-bg-focus;
		}
	}
}
